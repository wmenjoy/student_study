# 年级-题型映射说明

## 功能概述
根据不同年级的数学教学大纲，自动筛选适合该年级的题型，确保题目难度与年级水平相匹配。

## 年级题型对应关系

### 1-2年级（基础阶段）
**可选题型：3种**
- ✅ 和差问题
- ✅ 购物问题
- ✅ 容量问题

**特点：** 基础算术题，贴近生活，数字简单

### 3-4年级（进阶阶段）
**可选题型：8种**
- ✅ 和差问题
- ✅ 倍数问题（新增）
- ✅ 购物问题
- ✅ 容量问题
- ✅ 植树问题（新增）
- ✅ 分数应用（4年级新增）

**特点：** 引入倍数关系、简单分数应用

### 4年级（分水岭）
**可选题型：9种**
- 以上所有 +
- ✅ 行程问题（新增）
- ✅ 鸡兔同笼（新增）
- ✅ 盈亏问题（新增）

**特点：** 开始接触复杂应用题

### 5-6年级（综合阶段）
**可选题型：11-12种**
- 以上所有 +
- ✅ 工程问题（5年级新增）
- ✅ 百分比应用（5年级新增）
- ✅ 浓度问题（6年级新增）

**特点：** 综合性强，需要多步骤推理

## 技术实现

### 数据结构
```typescript
const questionTypes = [
  { value: "和差问题", label: "和差问题", grades: [1, 2, 3, 4, 5, 6] },
  { value: "倍数问题", label: "倍数问题", grades: [3, 4, 5, 6] },
  { value: "行程问题", label: "行程问题", grades: [4, 5, 6] },
  { value: "工程问题", label: "工程问题", grades: [5, 6] },
  // ... 其他题型
]
```

### 核心函数

#### 1. 获取可用题型
```typescript
const getAvailableQuestionTypes = (currentGrade: number) => {
  return questionTypes.filter(type => type.grades.includes(currentGrade))
}
```

#### 2. 年级切换处理
```typescript
const handleGradeChange = (newGrade: number) => {
  setGrade(newGrade)
  const availableTypes = getAvailableQuestionTypes(newGrade)

  // 如果当前题型不在新年级的可用题型中，切换到第一个可用题型
  if (!availableTypes.find(type => type.value === questionType)) {
    setQuestionType(availableTypes[0].value)
  }
}
```

### UI 特性

1. **年级选择器**：显示每个年级的可用题型数量
   ```
   3年级 (8种题型)
   ```

2. **题型选择器**：动态显示当前年级可选题型数量
   ```
   题型 (8个可选)
   ```

3. **题型展示卡片**：以标签形式展示所有可用题型，高亮当前选中项

4. **提示信息**：告知用户"题型会根据年级自动筛选"

## 用户体验

### 自动切换
- 当用户从3年级切换到1年级时
- 如果当前选择的是"倍数问题"（1年级不支持）
- 系统自动切换为"和差问题"（1年级支持的第一个题型）

### 视觉反馈
- 可用题型以标签形式展示
- 当前选中的题型使用蓝色高亮
- 其他可用题型使用浅蓝色背景

## 教育意义

1. **循序渐进**：确保题目难度与认知水平匹配
2. **避免挫折**：低年级学生不会遇到超纲题目
3. **合理挑战**：高年级学生有更多题型选择
4. **符合大纲**：与实际教学进度保持一致
