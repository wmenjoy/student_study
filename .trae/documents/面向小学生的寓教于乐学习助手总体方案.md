# 产品背景与目标
- 背景：面向小学生，打造“温馨、寓教于乐”的互动学习助手，主打数学应用题与语文趣味学习。
- 核心目标：
  - 数学：掌握“差倍问题”等关键应用题的建模与迁移能力。
  - 语文：形成规范的笔画与字形认知，提升词语运用与表达兴趣。
  - 参与：让孩子在动手参与中获得持续正反馈与作品成就。

# 目标用户与场景
- 用户画像：小学一至五年级学生；家长与班级老师。
- 主要场景：
  - 家庭日常学习（15–20分钟/session，离线可学）。
  - 课堂辅助（老师布置关卡与观察错因）。
  - 创作展示（作品墙分享与复盘）。

# MVP 范围（首版）
- 数学专题：差倍问题完整关卡与变式训练。
- 语文专题：笔画练习（演示、跟写、纠错）与词语小游戏。
- 交互教具：比例条、数轴、几何拼板的基础模板。
- 学习者模型：简版掌握度估计与自适应出题。
- 正反馈机制：轻量进度地图、徽章、作品保存与展示。
- 家长端：技能雷达与错因摘要、学习周报。
- 技术底座：离线优先、本地数据存储与增量同步。

# 非目标（首版不包含）
- 全量小学数学/语文全覆盖；
- 实时多人对战；
- 重度AI能力（仅规划，迭代引入）。

# 成功度量
- 学习：差倍掌握度≥0.8的孩子占比≥70%；变式题迁移正确率≥60%。
- 参与：7日留存≥30%，平均会话≥12分钟，创作作品≥1/周。
- 体验：家长满意度≥4/5，错因识别准确率≥70%。

# 关键风险与对策
- 题海化：以“变式质量与建模深度”为核心；错因驱动复练。
- 外在奖励依赖：强化创作与探索动机，奖励轻量且不强绑定。
- 技术复杂度：交互模板优先，AI能力渐进接入。

# 需求列表（功能性）
- 学习关卡：剧情引题→操作建模→算式生成→变式与复盘→掌握度更新。
- 教具模板：比例条/数轴/拼板可视化，支持拖拽、标注与自动对齐。
- 自适应出题：基于掌握度与错因标签，动态选择题型与难度。
- 正反馈与作品：进度地图、徽章、作品墙；错误触发微指导与等价变式题。
- 家长端：技能雷达图、错因分布、学习周报与任务布置。
- 数据与同步：本地持久化、断网可学、联网增量同步。
- 可及性：TTS旁白、色盲友好配色、可调字体、拼音辅助。

# 非功能性要求
- 响应与流畅：交互延迟<100ms，页面加载<2s（离线）。
- 稳定：错误率与崩溃率低于行业均值；断网平滑降级。
- 安全与隐私：最小化数据收集、可导出/删除、家长监护。

# EPIC 与用户故事（含验收标准）

## EPIC A：差倍问题学习路径
- Story A1（图解建模）
  - 作为：学习者
  - 我希望：用比例条拖拽表达“倍数与差”，识别谁是基准量
  - 以便：把文字题转成可操作的图解
  - 验收：
    - 题面可生成两条比例条，支持长度比例设置与差距标注
    - 正确标注后，系统能判定“谁是几倍”“差值是多少”并给出提示
- Story A2（图→式映射）
  - 作为：学习者
  - 我希望：比例条自动生成对应算式与等式
  - 以便：从具体图解过渡到抽象表达
  - 验收：
    - 生成至少两种表达：口语解释与算式/等式
    - 错误映射能触发“微指导”与重试
- Story A3（等价变式训练）
  - 作为：学习者
  - 我希望：练习“已知差求倍/已知倍求差/两量同时变动”等变式
  - 以便：形成迁移能力
  - 验收：
    - 每个题型至少3道随机变式；难度随掌握度调节
    - 错因（把差当倍、单位遗漏）被识别并给出对应微指导
- Story A4（掌握度更新与小测）
  - 作为：系统
  - 我希望：根据答题表现更新节点掌握度并触发微测验
  - 以便：稳定判断是否达标
  - 验收：
    - 掌握度区间[0,1]更新；达标阈值默认0.8
    - 微测题通过率≥80%则标记掌握，未达标进入补练

## EPIC B：笔画与字形练习
- Story B1（笔画演示与跟写）
  - 作为：学习者
  - 我希望：观看标准笔顺并进行临摹跟写
  - 以便：掌握正确笔画
  - 验收：
    - 每字提供笔顺动画；跟写轨迹记录
    - 跟写匹配度≥70%判定通过，支持重试
- Story B2（即时纠错与部件高亮）
  - 作为：学习者
  - 我希望：错误笔画获得即时反馈并高亮关键部件
  - 以便：快速纠正
  - 验收：
    - 识别常见错误（起笔、收笔、方向、顺序）并提示
    - 部件（偏旁/结构）高亮显示与讲解
- Story B3（词语小游戏）
  - 作为：学习者
  - 我希望：通过近反义词、成语接龙等小游戏巩固词义
  - 以便：提升词汇运用
  - 验收：
    - 至少2种小游戏；每次3–5条词语，反馈即时
    - 词义误用给出例句纠正

## EPIC C：交互教具模板
- Story C1（比例条模板）
  - 作为：系统
  - 我希望：提供可复用比例条组件
  - 以便：不同题面快速装配
  - 验收：
    - 支持长度比例、标签、差值标注、吸附对齐
- Story C2（数轴模板）
  - 验收：
    - 支持刻度、区间、跳跃步长与拖拽标记
- Story C3（几何拼板模板）
  - 验收：
    - 支持图形拼接、旋转、面积/周长自动计算

## EPIC D：自适应与错因诊断
- Story D1（掌握度模型）
  - 验收：
    - 节点掌握度初始化、更新、持久化；接口可查询
- Story D2（动态出题）
  - 验收：
    - 输入掌握度与错因，输出题型与难度；可回溯记录
- Story D3（错因识别）
  - 验收：
    - 识别≥3类常见错因并绑定微指导脚本

## EPIC E：正反馈与作品
- Story E1（进度地图与徽章）
  - 验收：
    - 展示关卡进度、掌握节点；徽章触发条件明确
- Story E2（作品墙）
  - 验收：
    - 保存创作作品（图解/拼板/小故事），可分享与复盘注释

## EPIC F：家长/老师端
- Story F1（技能雷达与错因摘要）
  - 验收：
    - 展示技能掌握雷达、错因Top3及建议
- Story F2（学习周报与任务布置）
  - 验收：
    - 自动生成周报；可布置差倍或笔画任务包

## EPIC G：离线与同步
- Story G1（本地存储）
  - 验收：
    - 关键数据离线可读写；断网不丢进度
- Story G2（增量同步）
  - 验收：
    - 联网后增量合并，无冲突或可提示解决

## EPIC H：可及性
- Story H1（TTS与拼音辅助）
  - 验收：
    - 所有题干可TTS；生字提供拼音与逐字高亮
- Story H2（色盲友好与可调字体）
  - 验收：
    - 提供至少2套色盲安全主题与字体大小调节

# 里程碑（12周）
- M1（2周）：模板与关卡骨架、比例条/数轴、笔画演示；
- M2（6周）：差倍完整变式、笔画纠错、词语小游戏、家长简版；
- M3（9周）：掌握度与出题、错因诊断、作品墙、离线同步；
- M4（12周）：可及性完善、体验打磨、指标达成验收。

# 验收与DoD
- 功能完成、用例通过≥95%、性能与离线指标达标、隐私与无广告合规、可及性检查通过；家长端报表可用并生成周报。

# 需确认
- MVP 专题是否按“差倍+笔画”推进？
- 目标平台优先级（Web/移动/平板）与离线强度？
- 家长端报表与任务布置的最低可用范围？