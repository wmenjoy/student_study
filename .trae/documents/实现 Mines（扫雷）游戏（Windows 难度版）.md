## 目标
- 新增“扫雷”游戏，规则与操作遵循网页描述（首开必安全、数字表示周围8格雷数、零自动扩散、右键插旗、数字周围旗数匹配时可一键开周围格）。
- 支持 Windows 经典难度：初级 9×9/10 雷，中级 16×16/40 雷，高级 30×16/99 雷；允许切换难度（雷数量与尺寸）。
- 具备新建、重启、撤销/重做、计时、标记计数；胜利与踩雷失败的明确提示。

## 组件与文件
- 页面：`apps/student/app/lessons/mines/page.tsx` 使用 `LessonShell`。
- 逻辑：`apps/student/components/MinesEngine.ts`。
- 视图：
  - `MinesGame.tsx`（状态与流程）
  - `MinesBoard.tsx`（棋盘与交互：左键开、右键旗、数字合并开）
  - `MinesControls.tsx`（难度选择、新建、重启、撤销、重做）
  - `MinesStatusBar.tsx`（计时、已标记/总雷数、状态徽标）
  - `Mines.css`（样式）

## 引擎设计
- 网格展平为一维数组，索引处理更简便。
- 延迟布雷：首次左键开格时生成雷，保证该格不含雷；随后计算数字并继续开格逻辑。
- 邻域：八方向邻居。
- 开格：
  - 若踩雷，标记失败。
  - 若数字为 0，进行 BFS 扩散开相邻未旗未开格直至边界。
- 合并开（Chord）：数字格周围旗数等于该数字时，开所有未旗邻居。
- 胜利判定：所有非雷格均已打开。

## 交互与控制
- 新建：重置并等待首次点击触发布雷，计时从首次开格开始。
- 重启：回到当前局初始状态（布雷后或尚未布雷都可），清空计时与撤销栈。
- 撤销/重做：每次开格或插旗动作入栈；按钮边界禁用。

## UI/样式
- 棋盘为 CSS Grid，Tile 按状态着色：未开、已开数字、零开、旗、雷爆。
- 侧栏控件沿用现有样式风格，移动端响应式缩放。

## 测试
- 引擎单测：首次开格不含雷、零扩散覆盖范围、合并开规则、胜利判定。

## 验证
- 启动本地服务，打开 `/lessons/mines` 交互验证各功能与提示。